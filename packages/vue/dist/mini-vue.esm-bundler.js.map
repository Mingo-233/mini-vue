{"version":3,"file":"mini-vue.esm-bundler.js","sources":["../../runtime-core/vnode.ts","../../runtime-core/component.ts","../../runtime-core/render.ts","../../runtime-core/createApp.ts","../../runtime-core/h.ts"],"sourcesContent":["export function createVNode(type, props?, children?) {\n  const vnode = {\n    type,\n    props,\n    children,\n  };\n\n  return vnode;\n}\n","export function createComponentInstance(vnode) {\n  const instance = {\n    vnode,\n    type: vnode.type,\n  };\n\n  return instance;\n}\nexport function setupComponent(instance) {\n  // TODO:   initProps initSlots\n  initProps();\n  initSlots();\n  setupStatefulComponent(instance);\n}\n\nfunction initProps() {}\n\nfunction initSlots() {}\n\nfunction setupStatefulComponent(instance) {\n  const component = instance.type;\n  const { setup } = component;\n  if (setup) {\n    const setupResult = setup();\n    handleSetupResult(instance, setupResult);\n  }\n}\n\nfunction handleSetupResult(instance, setupResult) {\n  if (typeof setupResult === \"object\") {\n    instance.setupState = setupResult;\n  }\n  finishComponentSetup(instance);\n}\n\nfunction finishComponentSetup(instance) {\n  const component = instance.type;\n  instance.render = component.render;\n}\n","import { createComponentInstance, setupComponent } from \"./component\";\n\nexport function render(vnode, container) {\n  patch(vnode, container);\n}\n\nfunction patch(vnode, container) {\n  // TODO 判断vnode 是不是一个 element\n  // 是 element 那么就应该处理 element\n  // 思考题： 如何去区分是 element 还是 component 类型呢？\n  // processElement();\n  processElement(vnode, container);\n}\n\nfunction processElement(vnode, container) {\n  mountComponent(vnode, container);\n}\n\nfunction mountComponent(vnode, container) {\n  const instance = createComponentInstance(vnode);\n  setupComponent(instance);\n  setupRenderEffect(instance, container);\n}\n\nfunction setupRenderEffect(instance, container) {}\n","import { createVNode } from \"./vnode\";\nimport { render } from \"./render\";\nexport function createApp(rootComponent) {\n  function mount(rootContainer) {\n    const dom = document.querySelector(rootContainer);\n    const vnode = createVNode(dom);\n    render(vnode, rootContainer);\n  }\n  return {\n    mount,\n  };\n}\n","import { createVNode } from \"./vnode\";\n\nexport function h(type, props?, children?) {\n  createVNode(type, props, children);\n}\n"],"names":[],"mappings":"SAAgB,WAAW,CAAC,IAAI,EAAE,KAAM,EAAE,QAAS,EAAA;AACjD,IAAA,MAAM,KAAK,GAAG;QACZ,IAAI;QACJ,KAAK;QACL,QAAQ;KACT,CAAC;AAEF,IAAA,OAAO,KAAK,CAAC;AACf;;ACRM,SAAU,uBAAuB,CAAC,KAAK,EAAA;AAC3C,IAAA,MAAM,QAAQ,GAAG;QACf,KAAK;QACL,IAAI,EAAE,KAAK,CAAC,IAAI;KACjB,CAAC;AAEF,IAAA,OAAO,QAAQ,CAAC;AAClB,CAAC;AACK,SAAU,cAAc,CAAC,QAAQ,EAAA;IAIrC,sBAAsB,CAAC,QAAQ,CAAC,CAAC;AACnC,CAAC;AAMD,SAAS,sBAAsB,CAAC,QAAQ,EAAA;AACtC,IAAA,MAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC;AAChC,IAAA,MAAM,EAAE,KAAK,EAAE,GAAG,SAAS,CAAC;IAC5B,IAAI,KAAK,EAAE;AACT,QAAA,MAAM,WAAW,GAAG,KAAK,EAAE,CAAC;AAC5B,QAAA,iBAAiB,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;KAC1C;AACH,CAAC;AAED,SAAS,iBAAiB,CAAC,QAAQ,EAAE,WAAW,EAAA;AAC9C,IAAA,IAAI,OAAO,WAAW,KAAK,QAAQ,EAAE;AACnC,QAAA,QAAQ,CAAC,UAAU,GAAG,WAAW,CAAC;KACnC;IACD,oBAAoB,CAAC,QAAQ,CAAC,CAAC;AACjC,CAAC;AAED,SAAS,oBAAoB,CAAC,QAAQ,EAAA;AACpC,IAAA,MAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC;AAChC,IAAA,QAAQ,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;AACrC;;ACpCgB,SAAA,MAAM,CAAC,KAAK,EAAE,SAAS,EAAA;AACrC,IAAA,KAAK,CAAC,KAAgB,CAAC,CAAC;AAC1B,CAAC;AAED,SAAS,KAAK,CAAC,KAAK,EAAE,SAAS,EAAA;;;;;AAK7B,IAAA,cAAc,CAAC,KAAgB,CAAC,CAAC;AACnC,CAAC;AAED,SAAS,cAAc,CAAC,KAAK,EAAE,SAAS,EAAA;AACtC,IAAA,cAAc,CAAC,KAAgB,CAAC,CAAC;AACnC,CAAC;AAED,SAAS,cAAc,CAAC,KAAK,EAAE,SAAS,EAAA;AACtC,IAAA,MAAM,QAAQ,GAAG,uBAAuB,CAAC,KAAK,CAAC,CAAC;IAChD,cAAc,CAAC,QAAQ,CAAC,CAAC;AAE3B;;ACpBM,SAAU,SAAS,CAAC,aAAa,EAAA;IACrC,SAAS,KAAK,CAAC,aAAa,EAAA;QAC1B,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;AAClD,QAAA,MAAM,KAAK,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;AAC/B,QAAA,MAAM,CAAC,KAAoB,CAAC,CAAC;KAC9B;IACD,OAAO;QACL,KAAK;KACN,CAAC;AACJ;;SCTgB,CAAC,CAAC,IAAI,EAAE,KAAM,EAAE,QAAS,EAAA;AAEzC;;;;"}